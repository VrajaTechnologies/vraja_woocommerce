<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record id="action_woocommerce_customer_id" model="ir.actions.act_window">
            <field name="name">Woocommerce Customer</field>
            <field name="res_model">res.partner</field>
            <field name="view_id" ref="base.view_partner_tree"/>
            <field name="domain">[('woocommerce_instance_id', '=', active_id)]</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Woocommerce Customer will display here
                </p>
            </field>
        </record>
        <!--form view-->
        <record id="woocommerce_instance_integration_form" model="ir.ui.view">
            <field name="name">woocommerce instance integration form</field>
            <field name="model">woocommerce.instance.integration</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <button name="action_test_connection" string="Test Connection" class="oe_highlight"
                                type="object"/>
                        <button class="oe_stat_button" type="action"
                                name="%(vraja_woocommerce_odoo_integration.action_woocommerce_customer_id)d"
                                string="Customers"
                                icon="fa-users"/>
                    </header>
                    <sheet>
                        <field name="active" invisible="1"/>
                        <widget name="web_ribbon" text="Archived" bg_color="bg-danger"
                                attrs="{'invisible': [('active', '=', True)]}"/>
                        <div name="button_box" position="inside">
                        </div>
                        <field name="image" widget="image" class="oe_avatar"/>
                        <div class="oe_title">
                            <h1>
                                <field name="name" placeholder="e.g. WooCommerce Instance name..." required="1"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="company_id"/>
                                <field name="warehouse_id"/>
                                <field name="woocommerce_store_timezone"/>
                            </group>
                        </group>
                        <notebook name="Notebook">
                            <page name="credential" string="Credential">
                                <group>
                                    <field name="woocommerce_url" string="WooCommerce URL/Host" required="1"/>
                                    <field name="woocommerce_key" required="1"/>
                                    <field name="woocommerce_secret" required="1"/>
                                </group>
                            </page>
                            <page name="default_woocommerce_product" string="Default Woocommerce Product Detail">
                                <br/>
                                <div class="o_setting_right_pane">
                                    <label for="woocommerce_shipping_product_id"/>
                                    <div class="text-muted">
                                        This product will be recognized as a shipping item when adding a line to the
                                        sales order.
                                    </div>
                                    <div class="content-group">
                                        <div class="oe_inline">
                                            <field name="woocommerce_shipping_product_id"
                                                   string="Shipping Product"
                                                   domain="[('detailed_type', '=', 'service')]"/>

                                        </div>
                                    </div>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="woocommerce_fee_product_id"/>
                                    <div class="text-muted">
                                        This product will be recognized as a fee item when adding a line to the
                                        sales order.
                                    </div>
                                    <div class="content-group">
                                        <div class="oe_inline">
                                            <field name="woocommerce_fee_product_id"
                                                   string="Fee Product"
                                                   domain="[('detailed_type', '=', 'service')]"/>
                                        </div>
                                    </div>
                                </div>

                            </page>
                            <page name="Woocommerce_product_information" string="Product">
                                <div class="col-12 col-lg-6 o_setting_box">
                                    <div class="o_setting_left_pane">
                                        <field name="woocommerce_create_product_if_not_found"/>
                                    </div>
                                    <div class="o_setting_right_pane">
                                        <label string="Create Product in Odoo if not matched."
                                               for="woocommerce_create_product_if_not_found"/>
                                        <div class="text-muted">
                                            This setting triggers the creation of a new product in your catalog when the
                                            system cannot locate the item based on its SKU.

                                            However, caution is advised if you operate across multiple sales channels
                                            with
                                            distinct SKU on each channel.
                                            Enabling this option under such circumstances may result in the
                                            unintentional
                                            generation of duplicate products within your database.

                                            Therefore, we recommend selectively enabling this option based on your
                                            specific
                                            product catalog configuration to avoid potential issues with duplicate
                                            entries.
                                        </div>
                                    </div>
                                    <div class="col-12 col-lg-6 o_setting_box">
                                        <div class="o_setting_left_pane">
                                            <field name="is_sync_wc_images"/>
                                        </div>
                                        <div class="o_setting_right_pane">
                                            <label string="Sync Image" for="is_sync_wc_images"/>
                                            <div class="text-muted">
                                                When selected, this option automates the assignment of a product image
                                                during the product import process.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </page>

                            <!--                            Order Level Configuration-->

                            <page name="apply_tax_in_sale_order" string="Order">
                                <div class="o_setting_right_pane">
                                    <label for="woocommerce_apply_tax_in_order"/>
                                    <div class="text-muted">
                                        Default Tax Handling in Odoo - Taxes will be configured according to Odoo's
                                        standard functional behavior, utilizing the default settings for Tax and Fiscal
                                        Position as per Odoo configurations.

                                        Generate a New Tax in Case of Absence - In the event that the tax information
                                        from Woocommerce is not identified in Odoo, the system will initiate the
                                        creation of
                                        a new tax entry to accommodate the missing data.
                                    </div>
                                    <div class="content-group">
                                        <div class="oe_inline">
                                            <field name="woocommerce_apply_tax_in_order" string="Apply Tax In Order"
                                                   required="0"/>
                                        </div>
                                    </div>
                                </div>
                                <br/>
                                <div class="o_setting_right_pane">
                                    <label for="woocommerce_price_list_id"/>
                                    <div class="text-muted">
                                        1.During product sync operation, prices will be Imported/Exported using this
                                        Pricelist.
                                        2.During order sync operation, this pricelist will be set in the order if the
                                        order currency from store and the currency from the pricelist set here, matches.
                                    </div>
                                    <div class="content-group">
                                        <div class="oe_inline">
                                            <field name="woocommerce_price_list_id" required="1"/>
                                        </div>
                                    </div>
                                </div>

                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- tree view-->
        <record id="woocommerce_instance_integration_tree" model="ir.ui.view">
            <field name="name">woocommerce instance integration tree</field>
            <field name="model">woocommerce.instance.integration</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name" string="Instance Name"/>
                    <field name="woocommerce_url" string="WooCommerce URL/Host"/>
                    <field name="company_id"/>
                    <field name="warehouse_id"/>
                </tree>
            </field>
        </record>

        <!--        Action  of customer , product listing, and order-->

        <record id="action_woocommerce_order_id" model="ir.actions.act_window">
            <field name="name">Woocommerce Order</field>
            <field name="res_model">sale.order</field>
            <field name="view_id" ref="sale.view_quotation_tree_with_onboarding"/>
            <field name="domain">[('instance_id', '=', active_id)]</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Woocommerce Order will display here
                </p>
            </field>
        </record>
        <record id="action_instance_woocommerce_product_listing" model="ir.actions.act_window">
            <field name="name">Woocommerce Listing</field>
            <field name="res_model">woocommerce.product.listing</field>
            <field name="domain">[('woocommerce_instance_id', '=', active_id)]</field>
            <field name='view_mode'>tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Woocommerce Product listing will display here.
                </p>
            </field>
        </record>


        <!--kanban view-->
        <record id="woocommerce_instance_integration_kanban" model="ir.ui.view">
            <field name="name">woocommerce.instance.integration.kanban</field>
            <field name="model">woocommerce.instance.integration</field>
            <field name="arch" type="html">
                <kanban class="oe_background_grey o_kanban_dashboard o_account_kanban" create="false">
                    <field name="name"/>
                    <field name="woocommerce_url"/>
                    <field name="woocommerce_key"/>
                    <field name="woocommerce_secret"/>
                    <field name="image"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_global_click" style="border-radius: 10px;">
                                <div t-attf-class="o_kanban_card_header">
                                    <div class="o_kanban_card_header_title">
                                        <div class="o_primary">
                                            <!--                                            <img alt="Marketplace Instance"-->
                                            <!--                                                 t-att-src="kanban_image('shopify.instance.integration', 'image', record.id.raw_value)"-->
                                            <!--                                                 class="oe_kanban_avatar img-fluid" width="60" height="60"/>-->
                                            <span>&#160;&#160;</span>
                                            <a type="object" name="woocommerce_instance_integration_form">
                                                <field name="name"/>
                                            </a>
                                        </div>
                                        <br/>
                                    </div>
                                </div>
                                <div class="container o_kanban_card_content fa-2x">
                                    <div class="row mt10">
                                        <div class="col-4 border-right">
                                            <a name="%(vraja_woocommerce_odoo_integration.action_woocommerce_customer_id)d"
                                               type="action"
                                               class="d-flex flex-column align-items-center">
                                                <span class="fa-stack fa-lg" title="Customer">
                                                    <i class="fa fa-square-o fa-stack-2x"/>
                                                    <i class="fa fa-users fa-stack-1x"/>
                                                </span>
                                                <span class="text-muted">Customer</span>
                                            </a>
                                        </div>
                                        <div class="col-4 border-right">
                                            <a name="%(vraja_woocommerce_odoo_integration.action_instance_woocommerce_product_listing)d"
                                               type="action"
                                               class="d-flex flex-column align-items-center">
                                                <span class="fa-stack fa-lg" title="Product">
                                                    <i class="fa fa-square-o fa-stack-2x"/>
                                                    <i class="fa fa-product-hunt fa-stack-1x"/>
                                                </span>
                                                <span class="text-muted">Product</span>
                                            </a>
                                        </div>
                                        <div class="col-4 border-right">
                                            <a name="%(vraja_woocommerce_odoo_integration.action_woocommerce_order_id)d"
                                               type="action"
                                               class="d-flex flex-column align-items-center">
                                                <span class="fa-stack fa-lg" title="Orders">
                                                    <i class="fa fa-square-o fa-stack-2x"/>
                                                    <i class="fa fa-line-chart fa-stack-1x"/>
                                                </span>
                                                <span class="text-muted">Order</span>
                                            </a>
                                        </div>
                                    </div>
                                    <br/>
                                    <div class="row">
                                        <div class="col-6">
                                            <button name="%(vraja_woocommerce_odoo_integration.actions_woocommerce_operations)d"
                                                    type="action" string="Operations" class="btn-primary"
                                                    t-attf-style="border-radius: 12px;">
                                                <span>
                                                    <i class="fa fa-hand-o-right fa-1x" aria-hidden="true"/>
                                                    Operations
                                                </span>
                                            </button>
                                        </div>

                                        <div class="col-6" align="right">
                                            <button name="%(vraja_woocommerce_odoo_integration.action_woocommerce_log_instance_id)d"
                                                    type="action" string="Logs" class="btn-primary"
                                                    t-attf-style="border-radius: 12px;">
                                                <span>
                                                    <i class="fa fa-book fa-1x" aria-hidden="true"/>
                                                    Logs
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                    <field name="id" attrs="{'invisible': True}"/>
                </kanban>
            </field>
        </record>

        <record id="action_woocommerce_instance_integration" model="ir.actions.act_window">
            <field name="name">WooCommerce Instance</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">woocommerce.instance.integration</field>
            <field name='view_mode'>tree,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create a WooCommerce Instance
                </p>
            </field>
        </record>
        <record id="action_woocommerce_instance_integration" model="ir.actions.act_window">
            <field name="name">WooCommerce Instance</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">woocommerce.instance.integration</field>
            <field name='view_mode'>kanban,tree,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create a WooCommerce Instance
                </p>
            </field>
        </record>
    </data>
</odoo>